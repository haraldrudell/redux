(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},130:function(e,t,a){e.exports=a(299)},299:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),i=a(22),o=a(16),s=a(17),u=a(18),l=a(19),p=a(20),h=a(23),d=a(120),f=a.n(d);function b(){var e=Object(i.a)(["\nwidth: 100px\nanimation: "," infinite 20s linear;\n"]);return b=function(){return e},e}function m(){var e=Object(i.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return m=function(){return e},e}var v=Object(h.c)(m()),j=h.a.img(b(),v),O=function(){return r.a.createElement(j,{src:f.a,alt:"React logo"})},g=a(25),y=a(8),w=a.n(y),E=a(24),S=a(29),k=function(){function e(){var t=this;Object(o.a)(this,e),this.reducer=this.reducer.bind(this),this.setSliceName=this.setSliceName.bind(this),this.getSliceData=this.getSliceData.bind(this),this.load=function(){return function(){var e=Object(E.a)(w.a.mark(function e(a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fetchData(a).catch(function(e){return a({type:t.SET_RESULT,e:e})}).catch(console.error));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}var t,a;return Object(s.a)(e,[{key:"setSliceName",value:function(e){this.sliceName=String(e||""),this.eSlice="".concat(e,"error"),this.dataSlice="".concat(e),this.SET_RESULT="SET_RESULT_".concat(e),this.ADD_ONE="ADD_ONE_".concat(e),this._name="".concat(e,"SliceInstance")}},{key:"fetchData",value:(a=Object(E.a)(w.a.mark(function e(t){var a,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.invokeApi();case 2:a=e.sent,Array.isArray(a)?r=new S.OrderedMap(a.map(function(e){return[e.id,Object(S.fromJS)(e)]})):n=new Error("setResult: data not array"),t({type:this.SET_RESULT,e:n,data:r});case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"invokeApi",value:(t=Object(E.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("invokeApi not overridden");case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"addOne",value:function(e){var t=e.data,a=this.ADD_ONE;return console.log("".concat(this._name,": ").concat(a," data:"),t),null!=t&&(t=Object(S.fromJS)(t)),{type:a,data:t}}},{key:"reducer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(S.Map)(),t=arguments.length>1?arguments[1]:void 0,a=this.sliceName,n=this.eSlice,r=this.dataSlice,c=this.SET_RESULT,i=this.ADD_ONE,o=e instanceof S.Map?"Map:".concat(e.size,":").concat(e.keySeq().toArray().join(" ").substring(0,20)):e;switch(t.type){case c:console.log("".concat(this._name," ").concat(c,": ").concat(o," action:"),t);var s=t.e,u=t.data;if(void 0===s&&void 0===u)return e;var l=e[a]||Object(S.Map)();return void 0===s&&(s=l.get(n)),void 0===u&&(u=l.get(r)),new S.Map([[n,s],[r,u]]);case i:console.log("".concat(a," ").concat(i,": ").concat(o," action:"),t);var p=t.data,h=p.get("id"),d=e.get(n),f=e.get(r),b=[[r,f?f.set(h,p):new S.OrderedMap([[h,p]])]];return d&&b.push([n,d]),new S.Map(b);default:return e}}},{key:"getSliceData",value:function(e){var t=e[this.sliceName];return{e:t&&t.get(this.eSlice),data:t&&t.get(this.dataSlice)}}}]),e}(),x=a(73),A=a.n(x),C="".concat("http://localhost:3000","/api"),T="".concat(C,"/jobs"),D="".concat(C,"/software"),I="".concat(C,"/hardware"),N=T,_=!0;function J(e){return P.apply(this,arguments)}function P(){return(P=Object(E.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _&&console.log("GET ".concat(t)),e.next=3,A.a.get(t);case 3:return a=e.sent,e.abrupt("return",Object(Object(a).data));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function M(){return(M=Object(E.a)(w.a.mark(function e(t,a){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _&&console.log("POST ".concat(t)),e.next=3,A.a.post(t,a);case 3:return n=e.sent,e.abrupt("return",Object(Object(n).data));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function R(e){return function(e,t){return M.apply(this,arguments)}(N,e)}function F(){return L.apply(this,arguments)}function L(){return(L=Object(E.a)(w.a.mark(function e(){var t,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(T);case 2:if(t=e.sent,a=t.jobs,Array.isArray(a)){e.next=6;break}throw new Error("Bad jobs response");case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(e){return U.apply(this,arguments)}function U(){return(U=Object(E.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if(a=e.sent,n=a.options,Array.isArray(n)){e.next=6;break}throw new Error("Bad response from: ".concat(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var q=new(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).createJob=function(e){return function(){var t=Object(E.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a._createJob(n,e).catch(function(e){return n({type:a.SET_RESULT,e:e})}).catch(console.error));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},a}var a,n;return Object(p.a)(t,e),Object(s.a)(t,[{key:"invokeApi",value:(n=Object(E.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F());case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_createJob",value:(a=Object(E.a)(w.a.mark(function e(t,a){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(a);case 2:n=e.sent,t(this.addOne({data:n,dispatch:t}));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})}]),t}(k)),H=q.setSliceName,V=q.reducer,z=q.createJob,G=q.load,W=q.getSliceData,K=a(55),Q=a.n(K),X=a(28),Y=a(44),Z=a.n(Y);function $(){var e=Object(i.a)(["\nwidth: 500px\n"]);return $=function(){return e},e}function ee(){var e=Object(i.a)(["\ndisplay: flex\njustify-content: center\n"]);return ee=function(){return e},e}var te,ae,ne=h.a.div(ee()),re=h.a.div($()),ce=function(e){var t=e.e,a=e.text;return r.a.createElement(ne,null,r.a.createElement(re,null,r.a.createElement(Z.a,{value:t.message||"error",error:!0,fullWidth:!0,helperText:a})))},ie=a(32),oe=a.n(ie),se=a(54),ue=a.n(se),le=a(125),pe=a.n(le),he=a(123),de=a.n(he),fe=a(124),be=a.n(fe),me={AreaSlice_showForm:!0};function ve(e){te=e=String(e||""),ae="".concat(e,"_SET_AREA")}ve("area");var je={type:ae,display:me};var Oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).handleJobAction=a.handleJobAction.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleJobAction",value:function(){var e=this.props;(0,e.dispatch)(function(e){if(console.log("setDataAreaDisplay:",e),null!==e&&!e&&"string"!==typeof e){var t=new Error("bad setArea");return console.error(t),{type:ae,payload:t}}return{type:ae,display:e}}(e.id))}},{key:"render",value:function(){var e=this.props,t=e.job,a=e.id,n=t&&t.get("name"),c=t&&t.get("results"),i=c&&c.get("status");return r.a.createElement(de.a,{onClick:this.handleJobAction},r.a.createElement(be.a,null,r.a.createElement(oe.a,{variant:"title",align:"center",gutterBottom:!0},n),"status: ",i,r.a.createElement("br",null),"id: ",a))}}],[{key:"mapStateToProps",value:function(e,t){var a=t.id,n=W(e).data;return{job:n&&n.get(a)}}}]),t}(n.PureComponent),ge=Object(X.b)(Oe.mapStateToProps)(Oe),ye=a(30),we=a.n(ye);function Ee(){var e=Object(i.a)(["\npadding-left: 84px\n"]);return Ee=function(){return e},e}function Se(){var e=Object(i.a)(["\n&& {\n  margin-left: 28px\n  width: 56px\n}\n"]);return Se=function(){return e},e}var ke=Object(h.a)(ue.a)(Se()),xe=Object(h.a)(oe.a)(Ee()),Ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).addJobHandler=a.addJobHandler.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(G())}},{key:"addJobHandler",value:function(e){var t=this.props.dispatch;e.preventDefault(),t(je)}},{key:"render",value:function(){var e=this.props,t=e.jobs,a=e.e;return console.log("Jobs.render jobs:",t,"e:",a&&a.message),r.a.createElement(n.Fragment,null,r.a.createElement(xe,{variant:"display1",gutterBottom:!0,align:"center"},"jobs",r.a.createElement(ke,{onClick:this.addJobHandler,variant:"fab",color:"primary","aria-label":"Add"},r.a.createElement(pe.a,null))),r.a.createElement(we.a,{container:!0,justify:"center"},void 0===t?r.a.createElement(we.a,{item:!0},a?r.a.createElement(ce,{e:a,text:"Data loading failed"}):r.a.createElement(Q.a,null)):t.keySeq().map(function(e){return r.a.createElement(we.a,{item:!0,key:e},r.a.createElement(ge,{id:e}))})))}}],[{key:"mapStateToProps",value:function(e){var t=W(e);return{e:t.e,jobs:t.data}}}]),t}(n.Component),Ce=Object(X.b)(Ae.mapStateToProps)(Ae);function Te(){var e=Object(i.a)(["\nmax-width: 100%\n"]);return Te=function(){return e},e}var De=h.a.img(Te()),Ie=Object(X.b)(function(e,t){var a=t.id;return{job:W(e).data.get(a)}})(function(e){var t=e.job,a=e.id,c=t&&t.get("name"),i=t&&t.get("results"),o=i&&i.get("images")||Object(S.List)();return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{variant:"title",align:"center",gutterBottom:!0},"Results: ",c," ",a),o.map(function(e,t){return r.a.createElement(De,{src:e,alt:"resultImage",key:t})}))});var Ne=new(function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}var a;return Object(p.a)(t,e),Object(s.a)(t,[{key:"invokeApi",value:(a=Object(E.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B(D));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}]),t}(k)),_e=Ne.setSliceName,Je=Ne.reducer,Pe=Ne.load,Me=Ne.getSliceData,Re=new(function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}var a;return Object(p.a)(t,e),Object(s.a)(t,[{key:"invokeApi",value:(a=Object(E.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B(I));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}]),t}(k)),Fe=Re.setSliceName,Le=Re.reducer,Be=Re.load,Ue=Re.getSliceData,qe=a(126),He=a(5),Ve=a(71),ze=a.n(Ve),Ge=a(70),We=a.n(Ge),Ke=a(127),Qe=a.n(Ke),Xe=a(69),Ye=a.n(Xe),Ze=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.name,n=e.defVal,c=e.handleChange,i=e.opts;return r.a.createElement(We.a,{component:"fieldset"},r.a.createElement(Ye.a,{shrink:!0,htmlFor:"age-label-placeholder"},t),r.a.createElement(ze.a,{value:n,onChange:c,inputProps:{name:a}},i.valueSeq().map(function(e,t){return r.a.createElement(Qe.a,{value:String(e.get("id")),key:t},String(e.get("label")))})))}}]),t}(n.PureComponent);function $e(){var e=Object(i.a)(["\n&& {\n  display: flex\n  flex-wrap: wrap\n  align-items: flex-start\n  > * {\n    margin-left: 20px\n    margin-bottom: 20px\n  }\n  > button {\n    margin-top: 20px\n  }\n}\n"]);return $e=function(){return e},e}var et=h.a.form($e()),tt=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a.submit=a.submit.bind(Object(g.a)(Object(g.a)(a)));var n=t.defaultName,r=e.hw,c=e.sw,i=r.valueSeq().first(),s=i.get("id"),p=i.get("max"),h=c.valueSeq().first().get("id"),d=a.updateApp(h,c),f=d.apps,b=d.applicationId;return a.state={name:n,softwareId:h,hardwareId:s,applicationId:b,cores:1,max:p,apps:f},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"submit",value:function(e){e.preventDefault();var t=this.state,a=t.name,n=t.softwareId,r=t.applicationId,c=t.hardwareId,i=t.cores;(0,this.props.action)({name:a,softwareId:n,applicationId:r,hardwareId:c,cores:i})}},{key:"updateMaxCores",value:function(e){var t=this.props.hw.get(e).get("max"),a=this.state,n=a.max,r=a.cores;n!==t&&this.setState({max:t}),r>t&&this.setState({cores:t})}},{key:"updateApp",value:function(e,t,a){var n=t.get(e).get("applications"),r=n.map(function(e){return e.get("id")});return r.has(a)||(a=r.get(0)),{apps:n,applicationId:a}}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.max;if(console.log("handleChange: '".concat(a,"' ").concat(Object(He.a)(n)," '").concat(n,"'")),"cores"===a)(n=Number(n))>r&&(n=r);else if("softwareId"===a){var c=this.state.apid0,i=this.props.sw,o=this.updateApp(n,i),s=o.apps,u=o.applicationId;this.setState({apps:s}),u!==c&&this.setState({applicationId:u})}this.setState(Object(qe.a)({},a,n)),"hardwareId"===a&&this.updateMaxCores(n)}},{key:"render",value:function(){var e=this.props,a=e.hw,c=e.sw,i=this.handleChange,o=t.defaultName;console.log("Form.render state:",this.state);var s={label:"Software",name:"softwareId",defVal:c.keySeq().first(),handleChange:i,opts:c},u={label:"Hardware",name:"hardwareId",defVal:a.keySeq().first(),handleChange:i,opts:a},l={label:"Application",name:"applicationId",defVal:this.state.applicationId,handleChange:i,opts:this.state.apps};return r.a.createElement(n.Fragment,null,r.a.createElement(oe.a,{variant:"display1",align:"center",gutterBottom:!0},"New Job"),r.a.createElement(et,null,r.a.createElement(Z.a,{label:"Name",name:"name",defaultValue:o,onChange:i}),r.a.createElement(Ze,s),r.a.createElement(Ze,l),r.a.createElement(Ze,u),r.a.createElement(Z.a,{label:"Cores",name:"cores",value:this.state.cores,onChange:i,type:"number",helperText:"max: ".concat(this.state.max)}),r.a.createElement(ue.a,{onClick:this.submit,type:"submit",variant:"contained",color:"primary"},"Create")))}}]),t}(n.PureComponent);tt.defaultName="Noname";var at=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).action=function(e){return a.props.dispatch(z(e))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.action,t=this.props,a=t.hw,n=t.sw,c=t.e,i={hw:a,sw:n,action:e};return console.log("ListLoader.render hw:",a,"sw:",n,"e:",c&&c.message),void 0!==a&&void 0!==n||c?c?r.a.createElement(ce,{e:c,text:"Options loading failed"}):r.a.createElement(tt,i):r.a.createElement(Q.a,null)}}],[{key:"mapStateToProps",value:function(e){var t=Ue(e),a=Me(e);return{e:t.e||a.e,hw:t.data,sw:a.data}}}]),t}(n.PureComponent),nt=Object(X.b)(at.mapStateToProps)(at),rt=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e(Pe()),e(Be())}},{key:"render",value:function(){var e=this.props.display;return null==e?r.a.createElement(n.Fragment,null):function(e){return e===me}(e)?r.a.createElement(nt,null):r.a.createElement(Ie,{id:e})}}],[{key:"mapStateToProps",value:function(e){return{display:function(e){return Object(e)[te]}(e)}}}]),t}(n.PureComponent),ct=Object(X.b)(rt.mapStateToProps)(rt);function it(){var e=Object(i.a)(["\n&& {\n  max-width: 10.5in\n  margin: 0\n}\n"]);return it=function(){return e},e}var ot=Object(h.a)(we.a)(it()),st=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ot,{container:!0,direction:"column",alignItems:"center",spacing:40},r.a.createElement(we.a,{item:!0},r.a.createElement(O,null)),r.a.createElement(we.a,{item:!0},r.a.createElement(Ce,null)),r.a.createElement(we.a,{item:!0},r.a.createElement(ct,null)))}}]),t}(n.Component),ut=a(39),lt=a(128),pt={};dt("area",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return t.display;default:return e}},ve),dt("jobs",V,H),dt("hw",Le,Fe),dt("sw",Je,_e);var ht=Object(ut.d)(Object(ut.c)(pt),Object(ut.a)(lt.a));function dt(e,t,a){a(e),pt[e]=t}pt=null;var ft=a(129),bt=a.n(ft);a(296);function mt(){var e=Object(i.a)(['\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n    sans-serif;\n}\n']);return mt=function(){return e},e}Object(h.b)(mt());Object(c.render)(r.a.createElement(function(){return r.a.createElement(n.Fragment,null,r.a.createElement(bt.a,null),r.a.createElement(X.a,{store:ht},r.a.createElement(st,null)))},null),document.getElementById("root"))}},[[130,2,1]]]);
//# sourceMappingURL=main.684f8ed3.chunk.js.map